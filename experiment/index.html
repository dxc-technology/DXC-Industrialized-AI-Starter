<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Experiment - DXC Industrialized AI Starter</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  <link href="../extra.css" rel="stylesheet" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Experiment";
    var mkdocs_page_input_path = "experiment.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> DXC Industrialized AI Starter</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">Welcome</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../access_data/">Access Data</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../clean_data/">Clean Data</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../explore/">Visualization</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../data_pipeline/">Data Pipeline</a>
                    </li>
                </ul>
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Experiment</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#tpot-classificationregression">TPOT Classification/Regression:</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#timeseries-model">Timeseries Model</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#deep-learning-model">Deep Learning Model</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#clustering-model">Clustering Model</a>
    </li>
    </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../model_explainability/">Model Explainability</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../publish_microservice/">Publish Microservice</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../logging/">Logging</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../data_sets/">Load Data</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../reinforcement_learning/">Reinforcement Learning</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../contributing_guide/">How to Contribute</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">DXC Industrialized AI Starter</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Experiment</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="run-ai-experiments">Run AI Experiments</h1>
<hr />
<p>An experiment trains and tests a machine-learning model. The code in this section runs a model through a complete lifecycle and saves the final model to the local drive. Run the code that defines a machine-learning model and its lifecycle. Design an experiment and execute it. Most of the work of choosing features and specific model parameters will be done automatically. The code will also automatically score each option and return the options with the best predictive performance.</p>
<p>Below is a example for run_experiment() function.</p>
<pre><code class="python">experiment_design = {
    #model options include ['tpot_regression()', 'tpot_classification()', 'timeseries']
    &quot;model&quot;: ai.tpot_regression(),
    &quot;labels&quot;: df.avg_est_unit_cost_error,
    &quot;data&quot;: df,
    #Tell the model which column is 'output'
    #Also note columns that aren't purely numerical
    #Examples include ['nlp', 'date', 'categorical', 'ignore']
    &quot;meta_data&quot;: {
      &quot;avg_est_unit_cost_error&quot;: &quot;output&quot;,
      &quot;_id.funding_source&quot;: &quot;categorical&quot;,
      &quot;_id.department_name&quot;: &quot;categorical&quot;,
      &quot;_id.replacement_body_style&quot;: &quot;categorical&quot;,
      &quot;_id.replacement_make&quot;: &quot;categorical&quot;,
      &quot;_id.replacement_model&quot;: &quot;categorical&quot;,
      &quot;_id.procurement_plan&quot;: &quot;categorical&quot;
  }
}

trained_model = ai.run_experiment(experiment_design, verbose = False, max_time_mins = 5, max_eval_time_mins = 0.04, config_dict = None, warm_start = False, export_pipeline = True, scoring = None)
</code></pre>

<ul>
<li>
<p><strong>ai.run_experiment(experiment_design):</strong></p>
<ul>
<li>This function executes an experiment on selected model. Update experiment_design with parameters that fit your project.</li>
<li>The data parameter should be the same as the refined training data. The model parameter must be a model subclass.</li>
<li>The labels parameter indicates the column of the data frame to be predicted.</li>
<li>For the prediction model, the meta-data must describe the column to be predicted and the types for non-numeric columns.</li>
</ul>
</li>
</ul>
<p><strong>Further Information on Model</strong></p>
<p>The machine learning model provides the intelligent behavior that you will publish as a microservice. The code in this section provides you with options for the model. You must select a model capable of using df to learn the behavior specified in the design section of the data story. Run this function by defining each model type, then choose the model most appropriate for your data story. Each model adheres to the specifications of a model. This allows any of the models to run according to the standard model lifecycle defined in run_experiment.</p>
<h2 id="tpot-classificationregression">TPOT Classification/Regression:</h2>
<p>Machine learning is typically a very time-consuming and knowledge-intensive part of a data science problem. Auto-ml is not designed to replace the data scientist, but rather free to work on more important aspects of the complete problem, such as acquiring data and interpreting the model results. <a href="https://epistasislab.github.io/tpot">TPOT</a> is a Python library developed for automatic machine learning feature preprocessing, model selection, and hyperparameter tuning. AI Starter has integrated TPOT as one of its Auto ML libraries.</p>
<p>Please refer to the below parameter description for best utilization of Tpot classification and regression methods with AI Starter.<br></p>
<p><strong><code>verbose: True/False </code></strong> True - Prints more information and provide a progress bar; False - Prints nothing. <br></p>
<p><strong><code>max_time_mins:</code></strong> How many minutes the pipeline has to be optimized. The default value is 5 minutes. The maximum time better the results.<br></p>
<p><strong><code>max_eval_time_mins:</code></strong>How many minutes a single pipeline has to be evaluated. Setting this parameter to higher values will allow Auto_ml to evaluate more complex pipelines, but will also allow Auto_ml to run longer. Use this parameter to help prevent Auto_ml from wasting time on evaluating time-consuming pipelines.<br></p>
<p><strong><code>config_dict:</code></strong> Beyond the default configurations that come with Auto_ml, in some cases, it is useful to limit the algorithms and parameters that Auto_ml considers. For that reason, we allow users to provide Auto_ml with a custom configuration for its operators and parameters.<br></p>
<p>For example: config_dict = {'sklearn.ensemble.GradientBoostingRegressor':{}} <br> For more detailed examples and different configurations check <a href="https://epistasislab.github.io/tpot/using/#customizing-tpots-operators-and-parameters">here</a>. <br></p>
<p><strong><code>warm_start: True/False</code></strong> This parameter lets you restart and continue to evaluate pipelines from where it left off in previous execution. <br></p>
<p><strong><code>export_pipeline: True/False</code></strong> This parameter automatically exports the corresponding Python code for the optimized pipeline to a python file and saves the python file and encoded data_file in your current directory. <code>best_pipeline.py</code> will contain the Python code for the optimized pipeline. The default value for this parameter is 'True'. We suggest not changing the value as the optimized pipeline code will help to evaluate your model using model explainability which will be one of the tasks to achieve the AI Forensics badge.</p>
<p><strong><code>scoring:</code></strong> This parameter is used to evaluate the quality of a given pipeline for the problem. By default, 'accuracy' is used for classification, and 'mean squared error' (MSE) is used for regression.</p>
<p>The following built-in scoring functions can be used for <strong>Classification</strong> Problem:</p>
<ul>
<li>accuracy, adjusted_rand_score, average_precision, balanced_accuracy,</li>
<li>f1, f1_macro, f1_micro, f1_samples, f1_weighted</li>
<li>neg_log_loss, precision, etc. (suffixes apply as with ‘f1’)</li>
<li>recall etc. (suffixes apply as with ‘f1’), ‘Jaccard’, etc. (suffixes apply as with ‘f1’)</li>
<li>roc_auc, roc_auc_ovr, roc_auc_ovo, roc_auc_ovr_weighted, roc_auc_ovo_weighted</li>
</ul>
<p>The following built-in scoring functions can be used for <strong>Regression</strong> Problem:</p>
<ul>
<li>neg_median_absolute_error, neg_mean_absolute_error, neg_mean_squared_error, r2</li>
</ul>
<p>If you need more knowledge on how to create custom scores please check <a href="https://epistasislab.github.io/tpot/using/#scoring-functions">here</a></p>
<h2 id="timeseries-model">Timeseries Model</h2>
<p>The time-series model automates the process for predicting future values of a signal using a machine learning approach. It allows forecasting a time-series (or a signal) values for future in a fully automated way. The time series models that are used in this library are:</p>
<ul>
<li>Auto-Regressive model</li>
<li>Simple exponential smoothing model</li>
<li>Double exponential smoothing model</li>
<li>ARIMA model</li>
</ul>
<p>The best model will be selected based on the RMSE value. Use this model when the design specification of the data story requires to predict future values based on time. <a href="https://nbviewer.jupyter.org/github/dxc-technology/DXC-Industrialized-AI-Starter/blob/c58754247060262ac0949396e48f71861cb79d4e/Examples/Time_series_Model.ipynb">Here</a> is an example notebook for the time series model. </p>
<h2 id="deep-learning-model">Deep Learning Model</h2>
<p>DXC Industrialized AI starter has a Deep Learning model for image classification.</p>
<p>Image classification is a supervised learning problem. A set of target classes are defined, and a model is trained with labeled images (train set). This trained model will identify and classifies new input into one of the target classes.</p>
<p>This model can be used through three functions mentioned below:</p>
<ol>
<li>ai.create_training_data</li>
<li>ai.split_normalize_data</li>
<li>ai.image_classifier</li>
</ol>
<p><strong>ai.create_training_data:</strong> This function reads each folder and each image from the path provided and will convert the image to an array. It will also resize your image to the size provided, the default size is 100. This function takes a list of image categories, image folder directory/path, and resizes size. This function return features and labels.</p>
<p><strong>ai.split_normalize_data:</strong> This function splits the data into train and test based on the size of the text provided. The default test size will be 0.20. Along with splitting the data to train and test, this function will also normalize the data. This function takes features, labels, test size (default 0.20), category count, and image size (default 100). This function returns the train and test sets.</p>
<p><strong>ai.image_classifier:</strong> This function compiles the model with the image size and number of categories provided. It adds the input, hidden, and output layers and compiles the model. Here returned model is trained with train data sets and further used for prediction.</p>
<p>This <a href="https://nbviewer.jupyter.org/github/dxc-technology/DXC-Industrialized-AI-Starter/blob/c58754247060262ac0949396e48f71861cb79d4e/Examples/DL_Image_classifier.ipynb">example notebook</a> helps you to understand how to use this model from the AI starter library.</p>
<h2 id="clustering-model">Clustering Model</h2>
<p>The clustering model is an unsupervised technique, which performs the clustering on the dataset depending on the attributes without knowing any information about the output. We aim to retrieve the hidden clusters from the data, our model performs the basic auto clustering based on the silhouette score. The Clustering models that are used in the library are:</p>
<ul>
<li>Affinity propagation</li>
<li>K-Means</li>
<li>DBSCAN</li>
</ul>
<p>The best method out of this is being selected based on the scores and the trained model of the same is returned as the output. <a href="https://nbviewer.jupyter.org/github/dxc-technology/DXC-Industrialized-AI-Starter/blob/c58754247060262ac0949396e48f71861cb79d4e/Examples/Clustering_ipynb.ipynb">Here</a> is the example notebook for the clustering model.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../model_explainability/" class="btn btn-neutral float-right" title="Model Explainability">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../data_pipeline/" class="btn btn-neutral" title="Data Pipeline"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../data_pipeline/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../model_explainability/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
